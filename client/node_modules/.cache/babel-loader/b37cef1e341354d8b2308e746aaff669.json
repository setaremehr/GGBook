{"ast":null,"code":"import _classCallCheck from\"/Users/setare/bootcamp/homework/GGbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/setare/bootcamp/homework/GGbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/setare/bootcamp/homework/GGbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/setare/bootcamp/homework/GGbook/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import{Row,Col}from\"../../components/Grid\";import{BookList,BookListItem}from\"../../components/BookList\";import axios from\"axios\";import EmptyList from'../../components/EmptyList';import RemoveBookBtn from'../../components/RemoveBookBtn';import{toast}from'react-toastify';var Saved=/*#__PURE__*/function(_Component){_inherits(Saved,_Component);var _super=_createSuper(Saved);function Saved(){var _this;_classCallCheck(this,Saved);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={savedBooks:[],initialized:true};_this.getBooks=function(){axios.get(\"/api/books\").then(function(res){_this.setState({savedBooks:res.data});}).catch(function(err){return console.log(err);});};_this.deleteFromDB=function(id){console.log(id);axios.delete(\"/api/books/\".concat(id)).then(function(){toast.error('Book Deleted');_this.getBooks();}).catch(function(err){return console.log(err);});};return _this;}_createClass(Saved,[{key:\"componentDidMount\",value:function componentDidMount(){this.getBooks();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{size:\"md-12\",children:this.state.savedBooks.length>0?/*#__PURE__*/_jsx(BookList,{children:this.state.savedBooks.map(function(book){console.log(book);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BookListItem,{authors:book.authors,title:book.title,synopsis:book.synopsis,link:book.link,thumbnail:book.thumbnail},book._id),/*#__PURE__*/_jsx(RemoveBookBtn,{onClick:function onClick(){return _this2.deleteFromDB(book._id);}})]});})}):/*#__PURE__*/_jsx(EmptyList,{})})})});}}]);return Saved;}(Component);export default Saved;","map":{"version":3,"sources":["/Users/setare/bootcamp/homework/GGbook/client/src/pages/Saved/index.js"],"names":["React","Component","Row","Col","BookList","BookListItem","axios","EmptyList","RemoveBookBtn","toast","Saved","state","savedBooks","initialized","getBooks","get","then","res","setState","data","catch","err","console","log","deleteFromDB","id","delete","error","length","map","book","authors","title","synopsis","link","thumbnail","_id"],"mappings":"wtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,uBAAzB,CACA,OAASC,QAAT,CAAmBC,YAAnB,KAAuC,2BAAvC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,GAGMC,CAAAA,K,uTACJC,K,CAAQ,CACNC,UAAU,CAAE,EADN,CAENC,WAAW,CAAE,IAFP,C,OASRC,Q,CAAW,UAAM,CACfR,KAAK,CAACS,GAAN,CAAU,YAAV,EACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,MAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEK,GAAG,CAACE,IAAlB,CAAd,EACD,CAHH,EAIGC,KAJH,CAIU,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJb,EAKD,C,OAEDG,Y,CAAe,SAAAC,EAAE,CAAI,CACnBH,OAAO,CAACC,GAAR,CAAYE,EAAZ,EAEAnB,KAAK,CAACoB,MAAN,sBAA2BD,EAA3B,GACGT,IADH,CACS,UAAM,CACXP,KAAK,CAACkB,KAAN,CAAY,cAAZ,EACA,MAAKb,QAAL,GAED,CALH,EAMGM,KANH,CAMS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EANZ,EAOD,C,8FAtBmB,CAClB,KAAKP,QAAL,GACD,C,uCAsBQ,iBACP,mBACE,kCACE,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,IAAI,CAAC,OAAV,UACG,KAAKH,KAAL,CAAWC,UAAX,CAAsBgB,MAAtB,CAA+B,CAA/B,cACC,KAAC,QAAD,WACG,KAAKjB,KAAL,CAAWC,UAAX,CAAsBiB,GAAtB,CAA0B,SAAAC,IAAI,CAAI,CACjCR,OAAO,CAACC,GAAR,CAAYO,IAAZ,EACA,mBACE,oCACE,KAAC,YAAD,EAEE,OAAO,CAAEA,IAAI,CAACC,OAFhB,CAGE,KAAK,CAAED,IAAI,CAACE,KAHd,CAIE,QAAQ,CAAEF,IAAI,CAACG,QAJjB,CAKE,IAAI,CAAEH,IAAI,CAACI,IALb,CAME,SAAS,CAAEJ,IAAI,CAACK,SANlB,EACOL,IAAI,CAACM,GADZ,CADF,cASE,KAAC,aAAD,EACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACZ,YAAL,CAAkBM,IAAI,CAACM,GAAvB,CAAN,EADX,EATF,GADF,CAgBD,CAlBA,CADH,EADD,cAuBC,KAAC,SAAD,IAxBJ,EADF,EADF,EADF,CAiCD,C,mBAhEiBnC,S,EAmEpB,cAAeS,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col } from \"../../components/Grid\";\nimport { BookList, BookListItem } from \"../../components/BookList\";\nimport axios from \"axios\";\nimport EmptyList from '../../components/EmptyList';\nimport RemoveBookBtn from '../../components/RemoveBookBtn';\nimport { toast } from 'react-toastify';\n\n\nclass Saved extends Component {\n  state = {\n    savedBooks: [],\n    initialized: true\n  }\n\n  componentDidMount() {\n    this.getBooks();\n  }\n\n  getBooks = () => {\n    axios.get(\"/api/books\")\n      .then(res => {\n        this.setState({ savedBooks: res.data })\n      })\n      .catch((err => console.log(err)))\n  }\n\n  deleteFromDB = id => {\n    console.log(id);\n\n    axios.delete(`/api/books/${id}`)\n      .then( () => {\n        toast.error('Book Deleted');\n        this.getBooks();\n        \n      })\n      .catch(err => console.log(err))\n  }\n\n  render() {\n    return (\n      <div>\n        <Row>\n          <Col size=\"md-12\">\n            {this.state.savedBooks.length > 0 ?\n              <BookList>\n                {this.state.savedBooks.map(book => {\n                  console.log(book)\n                  return (\n                    <div>\n                      <BookListItem\n                        key={book._id}\n                        authors={book.authors}\n                        title={book.title}\n                        synopsis={book.synopsis}\n                        link={book.link}\n                        thumbnail={book.thumbnail}\n                      />\n                      <RemoveBookBtn\n                        onClick={() => this.deleteFromDB(book._id)}\n                      />\n                    </div>\n                  )\n\n                })}\n              </BookList>\n              :\n              <EmptyList />\n            }\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Saved;"]},"metadata":{},"sourceType":"module"}